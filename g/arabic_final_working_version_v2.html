<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>××“×¨×©×ª ×¢×¨×‘×™×ª: ××™×§×•×“ ××œ× ×œ×‘×—×™× ×”</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Varela+Round&display=swap');

        /* --- ×’×œ×•×‘×œ×™ --- */
        body {
            font-family: 'Varela Round', sans-serif;
            background-color: #f4f7f6;
            color: #333;
            line-height: 1.7;
            margin: 0;
            padding: 0;
            direction: rtl; 
            text-align: right;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 15px; /* ×”×•×¤×—×ª ×”×¨×™×¤×•×“ ×œ×¦×“×“×™× ×‘×˜×œ×¤×•×Ÿ */
        }

        /* --- ××•×“×•×œ×™× ×•××–×•×¨×™ ×ª×•×›×Ÿ --- */
        .lesson-module {
            background-color: #fff;
            padding: 20px; /* ×”×•×¤×—×ª ×”×¨×™×¤×•×“ ×”×¤× ×™××™ ×‘×˜×œ×¤×•×Ÿ */
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            border-right: 5px solid #3f51b5;
        }

        .controls {
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap; /* ×××¤×©×¨ ×œ×›×¤×ª×•×¨×™× ×œ×¢×‘×•×¨ ×©×•×¨×” ×‘×˜×œ×¤×•×Ÿ */
        }

        /* --- ××•×“×•×œ 1: ×›×¨×˜×™×¡×™×•×ª (Flashcards) --- */
        
        /* ×•×“× ×©×”××–×•×¨×™× ××›×™×œ×™× ××ª ×”×ª×•×›×Ÿ ×‘×›×œ ××—×™×¨ */
        #vocab-list, #match-game-area, #quiz-area, #summary-area {
            min-height: 50px !important; 
        }

        .vocab-grid {
            display: grid;
            /* ×©×™× ×•×™: ×”×’×“×¨×ª ×˜×•×¨ ××—×“ ××™× ×™××œ×™ ×œ××¡×›×™× ×§×˜× ×™×, ×¢×“×™×™×Ÿ ×××¤×©×¨ ×©× ×™ ×˜×•×¨×™× ×‘×¨×•×—×‘ 400px ×•××¢×œ×” */
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); 
            gap: 10px; 
            margin-top: 15px;
        }

        .flashcard {
            background-color: #e8eaf6; 
            border: 1px solid #c5cae9;
            border-radius: 8px;
            padding: 15px 8px; /* ×¨×™×¤×•×“ ××•×¤×—×ª ×œ×˜×œ×¤×•×Ÿ */
            min-height: 80px;
            display: flex !important; /* ×•×“× ×ª×¦×•×’×” ×ª×§×™× ×” */
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .flashcard-arabic {
            font-size: 26px; /* ×’×•×“×œ ××•×¤×—×ª ×œ×˜×œ×¤×•×Ÿ */
            font-weight: bold;
        }

        /* --- ××•×“×•×œ 2: ××©×—×§ ×”×ª×××” (Matching Game) --- */
        #match-game-area {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); /* 2-3 ×›×¨×˜×™×¡×™× ×‘×¨×•×—×‘ ×‘×˜×œ×¤×•×Ÿ */
            gap: 8px;
        }
        
        /* --- ××•×“×•×œ 3: ×—×™×“×•×Ÿ ×¨×‘ ×‘×¨×™×¨×” (Quiz) --- */
        .quiz-arabic-word {
            font-size: 28px; /* ×’×•×“×œ ××•×¤×—×ª ×œ×˜×œ×¤×•×Ÿ */
        }

        /* --- ×›×œ ×©××¨ ×”-CSS × ×©××¨ ×–×”×” ×œ×ª×™×§×•×Ÿ ×”××—×¨×•×Ÿ, ×¨×§ ×¢× ×”×ª×××•×ª ×§×˜× ×•×ª ×œ××•×‘×™×™×œ --- */

        /* --- ×¨×§ ×”-CSS ×©× ×©××¨ ×–×”×” ×œ×§×•×“ ×”×§×•×“× ×•×¤×•×¢×œ ×”×™×˜×‘ --- */
        header {background-color: #3f51b5; color: white; padding: 25px 0; text-align: center; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);}
        header h1 {margin: 0; font-size: 2.5em;}
        header p {margin: 5px 0 0; font-size: 1.1em;}
        main {padding-top: 30px; padding-bottom: 50px;}
        .lesson-module h2 {color: #303f9f; border-bottom: 2px solid #c5cae9; padding-bottom: 10px; margin-top: 0; font-size: 1.8em;}
        .module-intro {font-size: 1.1em; color: #555; margin-bottom: 20px;}
        hr {border: 0; border-top: 1px dashed #ccc; margin: 40px 0;}
        .primary-btn, .secondary-btn {padding: 10px 18px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; font-size: 1em; transition: background-color 0.3s, transform 0.1s;}
        .primary-btn {background-color: #ffb300; color: #333; margin-left: 10px;}
        .primary-btn:hover {background-color: #ff8f00; transform: translateY(-1px);}
        .secondary-btn {background-color: #e0e0e0; color: #555;}
        .secondary-btn:hover {background-color: #ccc;}
        .vocab-grid-wrapper {padding: 5px 0; margin-bottom: 15px;}
        .flashcard:hover {transform: translateY(-2px); background-color: #d8e1f5;}
        .flashcard-hebrew {font-size: 16px; color: #555; transition: opacity 0.3s;}
        .flashcard-hebrew.hidden {opacity: 0; height: 0; overflow: hidden;}
        .match-card {background-color: #fce4ec; border: 2px solid #e91e63; border-radius: 8px; padding: 15px; text-align: center; font-weight: bold; cursor: pointer; min-height: 50px; display: flex; justify-content: center; align-items: center; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);}
        .match-card.arabic {font-size: 24px; color: #e91e63;}
        .match-card.hebrew {font-size: 18px; color: #d81b60;}
        .match-card.selected {border-color: #ff9800; background-color: #fff3e0;}
        .quiz-question {background-color: #e8f5e9; padding: 20px; border-radius: 8px; margin-bottom: 15px; border-left: 5px solid #4caf50;}
        .option-label {display: block; background-color: #ffffff; padding: 10px; margin-bottom: 8px; border-radius: 4px; cursor: pointer; border: 1px solid #ccc;}
        .vocab-summary-table {width: 100%; border-collapse: collapse; margin-top: 20px;}
        .vocab-summary-table th, .vocab-summary-table td {border: 1px solid #ddd; padding: 12px; text-align: center; font-size: 1.1em;}
        .vocab-summary-table th {background-color: #3f51b5; color: white; font-size: 1.2em;}
        .summary-arabic {font-size: 24px; font-weight: bold; color: #d84315;}
        footer {text-align: center; padding: 15px 0; background-color: #3f51b5; color: #c5cae9; font-size: 0.9em; margin-top: 30px;}
        .hidden {display: none !important;}
        
        /* --- ×”×ª×××•×ª ×¡×¤×¦×™×¤×™×•×ª ×œ××¡×š ×§×˜×Ÿ (Mobile-first approach) --- */
        @media (max-width: 600px) {
            header h1 {
                font-size: 2em;
            }
            .lesson-module h2 {
                font-size: 1.5em;
            }
            /* ×××¤×©×¨ ×œ×›×¨×˜×™×¡×™×™×” ××—×ª ×œ×ª×¤×•×¡ ×›××¢×˜ ××ª ×›×œ ×”×¨×•×—×‘ ×‘×˜×œ×¤×•×Ÿ ×¦×¨ */
            .vocab-grid {
                grid-template-columns: repeat(auto-fit, minmax(45%, 1fr));
            }
            /* ×”×›×¤×ª×•×¨×™× × ×¢×¨××™× ××—×“ ××ª×—×ª ×œ×©× ×™ */
            .controls {
                flex-direction: column;
            }
            .primary-btn, .secondary-btn {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="container">
            <h1>ğŸ§  ××“×¨×©×ª ×¢×¨×‘×™×ª | ×ª×¨×’×•×œ ××•×¦×¨ ××™×œ×™× ×××•×§×“</h1>
            <p>×”×›× ×” ××‘×•×¡×¡×ª ×¨×§ ×¢×œ ×”××™×œ×™× ×•×”×©××•×ª ××”×—×•××¨ ×”×¡×¤×¦×™×¤×™ ×©×œ×š.</p>
        </div>
    </header>

    <main class="container">

        <section id="vocab" class="lesson-module">
            <h2>ğŸ”¤ ××•×“×•×œ 1: ×›×¨×˜×™×¡×™×•×ª ×©×™× ×•×Ÿ (24 ××™×œ×™×)</h2>
            <p class="module-intro">×œ×—×¥ ×¢×œ ×”××™×œ×” ×›×“×™ ×œ×—×©×•×£ ××ª ×”×ª×¨×’×•×. ×”×ª×¨×’×œ ×•× ×¡×” ×œ×–×›×•×¨ ××ª ×›×œ ××•×¦×¨ ×”××™×œ×™×.</p>
            
            <div class="controls">
                <button id="toggleVocabBtn" class="primary-btn">×”×¦×’ / ×”×¡×ª×¨ ×”×›×œ</button>
                <button id="shuffleVocabBtn" class="secondary-btn">×¢×¨×‘×‘ ××™×œ×™×</button>
            </div>
            
            <div class="vocab-grid-wrapper">
                <div id="vocab-list" class="vocab-grid">
                    </div>
            </div>
        </section>

        <hr>

        <section id="matching-game" class="lesson-module">
            <h2>ğŸ§© ××•×“×•×œ 2: ××¦× ××ª 8 ×”×–×•×’×•×ª ×”× ×›×•× ×™×</h2>
            <p class="module-intro">×”×ª×× ×‘×™×Ÿ ×”××™×œ×” ×”×¢×¨×‘×™×ª ×œ×ª×¨×’×•× ×”×¢×‘×¨×™ ×©×œ×”. ×¦×¨×™×š ×œ××¦×•× 8 ×–×•×’×•×ª ××ª×•×š ×”×¨×©×™××”!</p>
            
            <div id="match-game-area">
                </div>
            <div id="match-result"></div>
        </section>

        <hr>

        <section id="quiz" class="lesson-module">
            <h2>â“ ××•×“×•×œ 3: ×—×™×“×•×Ÿ ×‘×–×§ (7 ×©××œ×•×ª)</h2>
            <p class="module-intro">×‘×“×•×§ ××ª ×¢×¦××š! ×‘×—×¨ ××ª ×”×ª×¨×’×•× ×”× ×›×•×Ÿ ×œ××™×œ×”.</p>
            <div id="quiz-area">
                </div>
            <button id="checkQuizBtn" class="primary-btn hidden">×‘×“×•×§ ×ª×©×•×‘×•×ª</button>
            <div id="quiz-result" class="details-box hidden"></div>
        </section>

        <hr>

        <section id="summary" class="lesson-module">
            <h2>ğŸ“ ××•×“×•×œ 4: ×¡×™×›×•× ××§×™×£ (×›×œ ×”××™×œ×™×)</h2>
            <p class="module-intro">×˜×‘×œ×” ××¡×•×“×¨×ª ×©×œ ×›×œ 24 ×”××™×œ×™× ×•×”×©××•×ª ××”×—×•××¨ ×©×œ×š, ×××•×™× ×ª ××œ×¤×‘×™×ª×™×ª.</p>
            <div id="summary-area">
                </div>
        </section>


    </main>

    <footer>
        <p>&copy; 2025 ××“×¨×©×ª ×¢×¨×‘×™×ª - ×œ××™×“×” ×‘×”×ª×××” ××™×©×™×ª</p>
    </footer>

    <script>
        // --- ×§×•×“ JavaScript ---
        
        // --- × ×ª×•× ×™×: 24 ××™×œ×™× ×•×©××•×ª ××”×¢××•×“×™× ×©×¦×•×œ××• ×‘×œ×‘×“ ---
        const vocabData = [
            { arabic: 'Ø§ÙØ³Ù’Ù…', hebrew: '×©×' },
            { arabic: 'ÙˆÙÙ„ÙØ¯', hebrew: '×™×œ×“' },
            { arabic: 'Ø£ÙÙ†ÙØ§', hebrew: '×× ×™' },
            { arabic: 'Ù…ÙØ³Ù’Ù„ÙÙ…', hebrew: '××•×¡×œ××™' },
            { arabic: 'Ø¯ÙÙˆÙ’Ù„ÙØ©', hebrew: '××“×™× ×”' },
            { arabic: 'Ø¨ÙÙ„Ù’Ø¯ÙØ§Ù†', hebrew: '××“×™× ×•×ª (×¨\')' },
            { arabic: 'Ù…ÙÙ‡ÙÙ…Ù‘ÙØ©', hebrew: '×—×©×•×‘×” (× ×§×‘×”)' },
            { arabic: 'ØªÙÙ„Ù’Ù…ÙÙŠØ°ÙØ©', hebrew: '×ª×œ××™×“×”' },
            { arabic: 'Ø£ÙÙ…Ù‘ÙÙŠ', hebrew: '××× ×©×œ×™' },
            { arabic: 'Ø£ÙØ¨ÙÙŠ', hebrew: '××‘× ×©×œ×™' },
            { arabic: 'ÙˆÙØ§Ù„ÙØ¯ÙÙŠÙ’Ù†', hebrew: '×”×•×¨×™×' },
            { arabic: 'Ø£ÙØ³Ù’Ù…ÙØ§Ø¡', hebrew: '×©××•×ª (×¨\')' },
            { arabic: 'ÙŠÙØ³ÙØ§ÙÙØ±', hebrew: '× ×•×¡×¢ (×”×•×)' },
            { arabic: 'Ø³ÙÙŠÙ‘ÙØ§Ø±ÙØ©', hebrew: '××›×•× ×™×ª' },
            { arabic: 'Ù…ÙØ¯ÙÙŠÙ†ÙØ©', hebrew: '×¢×™×¨' },
            { arabic: 'Ù…ÙÙ‚ÙØ¯Ù‘ÙØ³ÙØ©', hebrew: '×§×“×•×©×” (× ×§×‘×”)' },
            { arabic: 'ÙƒÙÙŠÙ’ÙÙ', hebrew: '××™×š' },
            { arabic: 'Ø§ÙÙ„Ù’Ù‚ÙØ¯Ù’Ø³', hebrew: '×™×¨×•×©×œ×™×' },
            { arabic: 'Ù„ÙØ¨Ù’Ù†ÙØ§Ù†', hebrew: '×œ×‘× ×•×Ÿ' },
            { arabic: 'Ø¥ÙØ³Ù’Ø±ÙØ§Ø¦ÙÙŠÙ„', hebrew: '×™×©×¨××œ' },
            { arabic: '×•ÙØ¯ÙØ§Ø¯', hebrew: '×•×“××“ (×©×)' },
            { arabic: 'ÙŠÙÙˆØ³ÙÙ', hebrew: '×™×•×¡×£ (×©×)' },
            { arabic: 'Ø´ÙØ±ÙÙŠÙ', hebrew: '×©×¨×™×£ (×©×)' },
            { arabic: 'Ù…ÙØ±Ù’ÙŠÙÙ…', hebrew: '××¨×™× (×©×)' }
        ];

        let currentVocab = [...vocabData];

        // --- ×¤×•× ×§×¦×™×•×ª ×¢×–×¨ ×›×œ×œ×™×•×ª ---

        /**
         * ×¢×¨×‘×•×‘ ××¢×¨×š (××œ×’×•×¨×™×ª× ×¤×™×©×¨-×™×™×˜×¡)
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        // --- ××•×“×•×œ 1: ×›×¨×˜×™×¡×™×•×ª (Flashcards) ---

        /**
         * ××¦×™×’ ××ª ××•×¦×¨ ×”××™×œ×™× ×‘××§×˜×¢ ×”×›×¨×˜×™×¡×™×•×ª
         */
        function renderVocab(arr) {
            const list = document.getElementById('vocab-list');
            list.innerHTML = ''; 

            arr.forEach(item => {
                const itemHTML = `
                    <div class="flashcard" onclick="this.querySelector('.flashcard-hebrew').classList.toggle('hidden')">
                        <div class="flashcard-arabic">${item.arabic}</div>
                        <div class="flashcard-hebrew hidden">${item.hebrew}</div>
                    </div>
                `;
                list.innerHTML += itemHTML;
            });
            
            // ××•×•×“××™× ×©×›×¤×ª×•×¨ ×”×”×¡×ª×¨×”/×”×¦×’×” ×××•×¤×¡
            document.getElementById('toggleVocabBtn').textContent = '×”×¦×’ / ×”×¡×ª×¨ ×”×›×œ';
        }

        /**
         * ××—×œ×™×£ ××ª ××¦×‘ ×”×ª×¨×’×•× ×”×¢×‘×¨×™ ×œ×›×œ ×”×›×¨×˜×™×¡×™×•×ª (×’×œ×•×™/××•×¡×ª×¨)
         */
        function toggleAllVocabTranslations() {
            const visibleTranslations = document.querySelectorAll('#vocab-list .flashcard .flashcard-hebrew');
            const button = document.getElementById('toggleVocabBtn');
            
            if (visibleTranslations.length === 0) return;

            const isHidden = visibleTranslations[0].classList.contains('hidden');
            
            visibleTranslations.forEach(t => {
                t.classList.toggle('hidden', !isHidden);
            });

            button.textContent = isHidden ? '×”×¡×ª×¨ ×”×›×œ' : '×”×¦×’ ×”×›×œ';
        }

        // --- ××•×“×•×œ 2: ××©×—×§ ×”×ª×××” (Matching Game) ---
        let selectedCards = [];
        let matchesFound = 0;
        const totalMatches = 8; // 8 ×–×•×’×•×ª ×œ×”×ª×××”
        let matchCards = [];

        function initMatchingGame() {
            const gameArea = document.getElementById('match-game-area');
            const resultBox = document.getElementById('match-result');
            gameArea.innerHTML = '';
            resultBox.textContent = `××¦× 0 ××ª×•×š ${totalMatches} ×–×•×’×•×ª.`;
            selectedCards = [];
            matchesFound = 0;

            // 1. ×‘×•×—×¨×™× 8 ××™×œ×™× ××§×¨××™×•×ª
            let subset = [...vocabData];
            shuffleArray(subset);
            subset = subset.slice(0, totalMatches);

            // 2. ×™×•×¦×¨×™× ××ª ×§×œ×¤×™ ×”×¢×¨×‘×™×ª ×•×”×¢×‘×¨×™×ª
            matchCards = [];
            subset.forEach(item => {
                matchCards.push({ value: item.arabic, type: 'arabic', match: item.hebrew });
                matchCards.push({ value: item.hebrew, type: 'hebrew', match: item.arabic });
            });

            // 3. ××¢×¨×‘×‘×™× ×•××¦×™×’×™×
            shuffleArray(matchCards);

            matchCards.forEach((card, index) => {
                const cardHTML = document.createElement('div');
                cardHTML.classList.add('match-card', card.type);
                cardHTML.textContent = card.value;
                cardHTML.dataset.index = index;
                cardHTML.dataset.match = card.match;
                cardHTML.onclick = handleCardClick;
                gameArea.appendChild(cardHTML);
            });
        }

        function handleCardClick(event) {
            const clickedCard = event.target;
            
            if (clickedCard.classList.contains('matched') || clickedCard.classList.contains('selected')) {
                return;
            }

            clickedCard.classList.add('selected');
            selectedCards.push(clickedCard);

            if (selectedCards.length === 2) {
                document.querySelectorAll('.match-card').forEach(card => card.onclick = null);

                const card1 = selectedCards[0];
                const card2 = selectedCards[1];

                const isMatch = (card1.dataset.match === card2.textContent.trim()) &&
                                (card2.dataset.match === card1.textContent.trim());

                if (isMatch) {
                    card1.classList.add('matched');
                    card2.classList.add('matched');
                    card1.classList.remove('selected');
                    card2.classList.remove('selected');
                    matchesFound++;
                    document.getElementById('match-result').textContent = `××¦××ª ${matchesFound} ××ª×•×š ${totalMatches} ×–×•×’×•×ª! ğŸ‘`;
                    
                    if (matchesFound === totalMatches) {
                        document.getElementById('match-result').textContent = '×›×œ ×”×›×‘×•×“! ×¡×™×™××ª ××ª ×”××©×—×§ ×‘×”×¦×œ×—×”! ğŸ¥³';
                    }

                    selectedCards = [];
                    document.querySelectorAll('.match-card').forEach(card => {
                        if (!card.classList.contains('matched')) {
                            card.onclick = handleCardClick;
                        }
                    });

                } else {
                    setTimeout(() => {
                        card1.classList.remove('selected');
                        card2.classList.remove('selected');
                        selectedCards = [];
                        document.querySelectorAll('.match-card').forEach(card => {
                            if (!card.classList.contains('matched')) {
                                card.onclick = handleCardClick;
                            }
                        });
                    }, 800);
                }
            }
        }


        // --- ××•×“×•×œ 3: ×—×™×“×•×Ÿ (Quiz) ---

        /**
         * ×™×¦×™×¨×ª ×—×™×“×•×Ÿ ×¨×‘-×‘×¨×™×¨×” (×‘×—×™×¨×ª ×ª×¨×’×•×)
         */
        function generateQuiz() {
            const quizArea = document.getElementById('quiz-area');
            quizArea.innerHTML = ''; 
            
            // ×‘×•×—×¨×™× 7 ××™×œ×™× ××§×¨××™×•×ª
            let quizVocab = [...vocabData]; 
            shuffleArray(quizVocab);
            const selectedWords = quizVocab.slice(0, 7); 

            selectedWords.forEach((correctAnswer, index) => {
                const allTranslations = vocabData.map(v => v.hebrew);
                
                const incorrectOptions = allTranslations
                    .filter(t => t !== correctAnswer.hebrew);

                shuffleArray(incorrectOptions);
                
                // 4 ××•×¤×¦×™×•×ª (× ×›×•×Ÿ + 3 ×œ× × ×›×•× ×™×)
                const options = [correctAnswer.hebrew, ...incorrectOptions.slice(0, 3)];
                shuffleArray(options); 

                const qHTML = `
                    <div class="quiz-question" data-question-id="${index}">
                        <p>××” ×”×¤×™×¨×•×© ×©×œ ×”××™×œ×”: <span class="quiz-arabic-word">${correctAnswer.arabic}</span></p>
                        ${options.map((opt, i) => `
                            <label class="option-label">
                                <input type="radio" name="q${index}" value="${opt}" data-correct="${opt === correctAnswer.hebrew ? 'true' : 'false'}"> 
                                ${opt}
                            </label>
                        `).join('')}
                    </div>
                `;
                quizArea.innerHTML += qHTML;
            });
            
            document.getElementById('checkQuizBtn').classList.remove('hidden');
        }

        /**
         * ×‘×“×™×§×ª ×ª×©×•×‘×•×ª ×”×—×™×“×•×Ÿ
         */
        function checkQuiz() {
            const questions = document.querySelectorAll('.quiz-question');
            const resultBox = document.getElementById('quiz-result');
            let correctCount = 0;

            questions.forEach(q => {
                const selected = q.querySelector('input:checked');
                const labels = q.querySelectorAll('.option-label');
                
                labels.forEach(l => {
                    l.style.backgroundColor = 'white';
                    l.style.border = '1px solid #ccc';
                });

                if (selected) {
                    if (selected.dataset.correct === 'true') {
                        correctCount++;
                        selected.parentElement.style.backgroundColor = '#c8e6c9'; 
                        selected.parentElement.style.border = '1px solid #4caf50';
                    } else {
                        selected.parentElement.style.backgroundColor = '#ffcdd2'; 
                        selected.parentElement.style.border = '1px solid #f44336';
                        const correctAnswer = q.querySelector('input[data-correct="true"]');
                        if (correctAnswer) {
                            correctAnswer.parentElement.style.border = '2px solid #4caf50';
                        }
                    }
                }
            });

            resultBox.classList.remove('hidden');
            resultBox.innerHTML = `
                <h3>×ª×•×¦××•×ª ×”×—×™×“×•×Ÿ:</h3>
                <p>×¦×‘×¨×ª <strong>${correctCount}</strong> ×ª×©×•×‘×•×ª × ×›×•× ×•×ª ××ª×•×š <strong>${questions.length}</strong> ×©××œ×•×ª.</p>
                <p>${correctCount === questions.length ? 'ğŸ‰ ×¦×™×•×Ÿ ××•×©×œ×! ××ª×” ××•×›×Ÿ ×œ×‘×—×™× ×”.' : 'ğŸ’ª ×¢×•×“ ×§×¦×ª ×ª×¨×’×•×œ ×•×ª×¦×œ×™×—! ×—×–×•×¨ ×¢×œ ×”×›×¨×˜×™×¡×™×•×ª ×•× ×¡×” ×©×•×‘.'}</p>
            `;
        }

        // --- ××•×“×•×œ 4: ×¡×™×›×•× ××•×¦×¨ ××™×œ×™× ---
        function renderVocabSummary() {
            const summaryArea = document.getElementById('summary-area');
            let tableHTML = `
                <table class="vocab-summary-table">
                    <thead>
                        <tr>
                            <th>××™×œ×” ×‘×¢×¨×‘×™×ª</th>
                            <th>×ª×¨×’×•× ×‘×¢×‘×¨×™×ª</th>
                        </tr>
                    </thead>
                    <tbody>
            `;

            const sortedVocab = [...vocabData].sort((a, b) => a.arabic.localeCompare(b.arabic, 'ar'));

            sortedVocab.forEach(item => {
                tableHTML += `
                    <tr>
                        <td class="summary-arabic">${item.arabic}</td>
                        <td>${item.hebrew}</td>
                    </tr>
                `;
            });

            tableHTML += `
                    </tbody>
                </table>
            `;
            summaryArea.innerHTML = tableHTML;
        }


        // --- ××™×¨×•×¢×™ ××ª×—×•×œ ---
        window.onload = function() {
            // ××•×“×•×œ 1: ×›×¨×˜×™×¡×™×•×ª
            renderVocab(currentVocab);
            document.getElementById('toggleVocabBtn').addEventListener('click', toggleAllVocabTranslations);
            document.getElementById('shuffleVocabBtn').addEventListener('click', () => {
                shuffleArray(currentVocab);
                renderVocab(currentVocab);
            });
            
            // ××•×“×•×œ 2: ××©×—×§ ×”×ª×××”
            initMatchingGame();
            
            // ××•×“×•×œ 3: ×—×™×“×•×Ÿ
            generateQuiz();
            document.getElementById('checkQuizBtn').addEventListener('click', checkQuiz);

            // ××•×“×•×œ 4: ×¡×™×›×•×
            renderVocabSummary();
        };
    </script>
</body>
</html>